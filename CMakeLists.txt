cmake_minimum_required(VERSION 2.6)

project(FORMAT_BENCHMARKS)

include(CheckCXXCompilerFlag)
check_cxx_compiler_flag(-std=c++11 HAVE_STD_CPP11_FLAG)

find_package(Boost)
if (Boost_FOUND)
  if (HAVE_STD_CPP11_FLAG)
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")
  endif ()
  add_executable(int-generator int_generator.cpp ltoa.c)
  target_link_libraries(int-generator format)
  find_library(HAVE_RT rt)
  if (HAVE_RT)
    target_link_libraries(int-generator rt)
  endif ()
  add_definitions(-DHAVE_BOOST)
endif ()
